{"version":3,"sources":["App.js","components/page/Page.js","components/routing/RouteHelper.js","components/text/Text.js","utils/extract-model-id.js","index.js"],"names":["App","this","childComponents","childPages","Page","withModel","require","WrappedComponent","extension","EAEMSPAPage","attrs","className","props","cssClassNames","MapTo","withComponentMappingContext","routePath","cqPath","key","path","render","routeProps","Component","Text","richText","richTextContent","textContent","id","replace","data-rte-editelement","dangerouslySetInnerHTML","__html","text","emptyLabel","isEmpty","trim","length","document","addEventListener","ModelManager","initialize","then","pageModel","history","createBrowserHistory","cqChildren","Constants","CHILDREN_PROP","cqItems","ITEMS_PROP","cqItemsOrder","ITEMS_ORDER_PROP","PATH_PROP","locationPathname","window","location","pathname","getElementById"],"mappings":"iVAIMA,E,uKAEE,OACI,6BACKC,KAAKC,gBACLD,KAAKE,gB,GALJC,QAWHC,sBAAUL,G,gBCbzBM,EAAQ,I,ICEkBC,EAAkBC,EDCtCC,E,6KAEE,IAAIC,EAAK,4DAET,OADAA,EAAMC,WAAaD,EAAMC,WAAa,IAAM,UAAYV,KAAKW,MAAMC,eAAiB,IAC7EH,M,GAJWN,QAQXU,gBAAM,8CAANA,CACXC,uCCVsBR,EDUgBE,ECTtC,uKACc,IAAD,OACDO,EAAYf,KAAKW,MAAMK,OAE3B,OAAKD,GAILR,EAAYA,GAAa,OAGlB,kBAAC,IAAD,CAAOU,IAAMF,EAAYG,KAAO,OAASH,EAAY,IAAMR,EAAYY,OAAS,SAACC,GACpF,OAAO,kBAACd,EAAD,iBAAsB,EAAKK,MAAWS,QAPtC,kBAACd,EAAqBN,KAAKW,WAL9C,GAAoCU,gB,UCQlCC,E,uKAcE,OAAOtB,KAAKW,MAAMY,SAAWvB,KAAKwB,gBAAkBxB,KAAKyB,c,sCAZzD,OAAO,yBAAKC,ICOmBR,EDPAlB,KAAKW,MAAMK,OCQzCE,GAAQA,EAAKS,QAAQ,QAAS,MDPnBjB,UAAU,UAAUkB,wBAAA,EACpBC,wBAAyB,CAACC,OAAS9B,KAAKW,MAAMoB,QCKnD,IAAwBb,I,kCDD/B,OAAO,yBAAKR,UAAU,WACjBV,KAAKW,MAAMoB,U,GATLV,aAkBJR,gBAAM,8CAANA,CAAqDS,EA1B7C,CACnBU,WAAY,kBAEZC,QAAS,SAAUtB,GACf,OAAQA,IAAUA,EAAMoB,MAAQpB,EAAMoB,KAAKG,OAAOC,OAAS,K,MEAnEC,SAASC,iBAAiB,oBAAoB,WAC1CC,eAAaC,aAAaC,MAAK,SAAAC,GAC3B,IAAMC,EAAUC,cAChBxB,iBACI,kBAAC,IAAD,CAAQuB,QAASA,GACb,kBAAC,EAAD,CACIA,QAASA,EACTE,WAAYH,EAAUI,YAAUC,eAChCC,QAASN,EAAUI,YAAUG,YAC7BC,aAAcR,EAAUI,YAAUK,kBAClClC,OAAQyB,EAAUI,YAAUM,WAC5BC,iBAAkBC,OAAOC,SAASC,YAG1CnB,SAASoB,eAAe,sB","file":"static/js/main.941afe9b.chunk.js","sourcesContent":["import { Page, withModel } from '@adobe/cq-react-editable-components';\r\nimport React from 'react';\r\n\r\n// This component is the application entry point\r\nclass App extends Page {\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.childComponents}\r\n                {this.childPages}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withModel(App);\r\n","import { Page, MapTo, withComponentMappingContext } from \"@adobe/cq-react-editable-components\";\r\nimport {withRoute} from \"./../routing/RouteHelper\";\r\nrequire('./Page.css');\r\n\r\n// This component is a variant of a Page component mapped to the \"eaem-sites-spa-how-to-react/components/page\" resource type.\r\nclass EAEMSPAPage extends Page {\r\n    get containerProps() {\r\n        let attrs = super.containerProps;\r\n        attrs.className = (attrs.className || '') + ' page ' + (this.props.cssClassNames || '');\r\n        return attrs;\r\n    }\r\n}\r\n\r\nexport default MapTo('eaem-sites-spa-how-to-react/components/page')(\r\n    withComponentMappingContext(withRoute(EAEMSPAPage))\r\n);\r\n","import React, {Component} from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport { withRouter } from 'react-router';\r\n\r\nexport const withRoute = (WrappedComponent, extension) => {\r\n    return class CompositeRoute extends Component {\r\n        render() {\r\n            let routePath = this.props.cqPath;\r\n\r\n            if (!routePath) {\r\n                return <WrappedComponent {...this.props}/>;\r\n            }\r\n\r\n            extension = extension || 'html';\r\n\r\n            // Context path + route path + extension\r\n            return <Route key={ routePath } path={ '(.*)' + routePath + '.' + extension } render={ (routeProps) => {\r\n                return <WrappedComponent {...this.props} {...routeProps}/>;\r\n            } }/>\r\n        }\r\n    }\r\n};\r\n","import React, {Component} from 'react';\r\nimport {MapTo} from '@adobe/cq-react-editable-components';\r\nimport extractModelId from '../../utils/extract-model-id';\r\nimport \"./Text.css\";\r\n\r\nconst TextEditConfig = {\r\n    emptyLabel: 'Text - EAEM SPA',\r\n\r\n    isEmpty: function (props) {\r\n        return !props || !props.text || props.text.trim().length < 1;\r\n    }\r\n};\r\n\r\nclass Text extends Component {\r\n    get richTextContent() {\r\n        return <div id={extractModelId(this.props.cqPath)}\r\n                    className=\"textbox\" data-rte-editelement\r\n                    dangerouslySetInnerHTML={{__html:  this.props.text}}/>;\r\n    }\r\n\r\n    get textContent() {\r\n        return <div className=\"textbox\">\r\n            {this.props.text}\r\n        </div>;\r\n    }\r\n\r\n    render() {\r\n        return this.props.richText ? this.richTextContent : this.textContent;\r\n    }\r\n}\r\n\r\nexport default MapTo('eaem-sites-spa-how-to-react/components/text')(Text, TextEditConfig);\r\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n ~ Copyright 2020 Adobe Systems Incorporated\r\n ~\r\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\r\n ~ you may not use this file except in compliance with the License.\r\n ~ You may obtain a copy of the License at\r\n ~\r\n ~     http://www.apache.org/licenses/LICENSE-2.0\r\n ~\r\n ~ Unless required by applicable law or agreed to in writing, software\r\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\r\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n ~ See the License for the specific language governing permissions and\r\n ~ limitations under the License.\r\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\r\n\r\n/**\r\n * Extract an id from the cqModel field of given properties\r\n *\r\n * @param path - Path to be converted into an id\r\n * @returns {string|undefined}\r\n */\r\nexport default function extractModelId(path) {\r\n  return path && path.replace(/\\/|:/g, '_');\r\n}\r\n","import { Constants, ModelManager } from '@adobe/cq-spa-page-model-manager';\r\nimport { createBrowserHistory } from 'history';\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport App from './App';\r\nimport './components/import-components';\r\nimport './index.css';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    ModelManager.initialize().then(pageModel => {\r\n        const history = createBrowserHistory();\r\n        render(\r\n            <Router history={history}>\r\n                <App\r\n                    history={history}\r\n                    cqChildren={pageModel[Constants.CHILDREN_PROP]}\r\n                    cqItems={pageModel[Constants.ITEMS_PROP]}\r\n                    cqItemsOrder={pageModel[Constants.ITEMS_ORDER_PROP]}\r\n                    cqPath={pageModel[Constants.PATH_PROP]}\r\n                    locationPathname={window.location.pathname}\r\n                />\r\n            </Router>,\r\n            document.getElementById('eaem-root')\r\n        );\r\n    });\r\n});\r\n"],"sourceRoot":""}